(self.webpackChunkmake_zero=self.webpackChunkmake_zero||[]).push([[308],{350:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,"\n.copy-append[data-v-36ef6d9f] {\n  padding: 12px 12px !important;\n}\n",""]);const i=o},5003:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.storage=chrome.storage.sync}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getAsync=function(t,e){this.storage.get((function(r){var n=r[t];e&&e(n)}))},t.prototype.setAsync=function(t,e,r){var n={};n[t]=e,this.storage.set(n,(function(){return r&&r(t,e)}))},t}();e.default=r.getInstance()},1529:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5003),o=function(){function t(){this.config={password:"123456",autoFill:!1,autoDecrypt:!1,cipherVersion:1},this.init()}return t.prototype.initialize=function(){this.changePassword("123456")},t.prototype.changePassword=function(t){this.config.password=t,this.update()},t.prototype.getPassword=function(t){return this.init((function(e){return t&&t(e.password)})),this.config.password},t.prototype.changeAutoFill=function(t){this.config.autoFill=t,this.update()},t.prototype.getAutoFill=function(t){return this.init((function(e){return t&&t(!!e.autoFill)})),this.config.autoFill},t.prototype.changeAutoDecrypt=function(t){this.config.autoDecrypt=t,this.update()},t.prototype.getAutoDecrypt=function(t){return this.init((function(e){return t&&t(!!e.autoDecrypt)})),this.config.autoDecrypt},t.prototype.getCipherVersion=function(t){return this.init((function(e){return t&&t(e.cipherVersion)})),this.config.cipherVersion},t.prototype.changeCipherVersion=function(t){this.config.cipherVersion=t,this.update(),this.updateBadge()},t.prototype.init=function(e){var r=this;n.default.getAsync(t.KEY,(function(t){t&&(r.config=t),e&&e(r.config),r.updateBadge()}))},t.prototype.update=function(){n.default.setAsync(t.KEY,this.config)},t.prototype.updateBadge=function(){var t=this.config.cipherVersion;chrome&&chrome.browserAction&&chrome.browserAction.setBadgeText&&chrome.browserAction.setBadgeText({text:t?t+"":""})},t.getInstance=function(){return null==t.INSTANCE&&(t.INSTANCE=new t),t.INSTANCE},t.KEY="__CryptorConfig__",t}();e.default=o.getInstance()},6004:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.version=function(){return 1},t.prototype.encript=function(t,e){return this.ring(t,e)},t.prototype.decrypt=function(t,e){return this.ring(t,e)},t.prototype.ring=function(t,e){var r=this.getPasswordNumber(e);return this.toUnicodeArray(t).map((function(t){return t^r})).map((function(t){return String.fromCharCode(t)})).join("")},t.prototype.getPasswordNumber=function(t){var e=0;return this.toUnicodeArray(t).forEach((function(t){return e^=t})),e},t.prototype.toUnicodeArray=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return e},t}();e.default=r},3140:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(655),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.version=function(){return 2},e.prototype.encript=function(e,r){var n=t.prototype.toUnicodeArray.call(this,e),o=t.prototype.getPasswordNumber.call(this,r),s=new i;s.calcSalt(o),o=s.getNewPn();var a=n.map((function(t){return t^o})).map((function(t){return String.fromCharCode(t)})).join("");return s.getPrefix()+a},e.prototype.decrypt=function(e,r){var n=t.prototype.getPasswordNumber.call(this,r),o=new i;return o.parseSalt(n,e),n=o.getNewPn(),t.prototype.toUnicodeArray.call(this,e.substring(1)).map((function(t){return t^n})).map((function(t){return String.fromCharCode(t)})).join("")},e}(r(6004).default);e.default=o;var i=function(){function t(){}return t.prototype.calcSalt=function(t){for(this.pn=t,this.calcMask();!this.isValid();)this.circle(t)},t.prototype.parseSalt=function(e,r){this.pn=e,this.calcMask(),this.salt=(r.charCodeAt(0)-t.ZERO_BASE)*(this.mask+1)/t.ZH_LENGTH},t.prototype.isValid=function(){return!!this.getNewPn()},t.prototype.circle=function(t){this.salt=(new Date).getTime()&this.mask},t.prototype.calcMask=function(){for(var e,r=0;r<t.MASK_SEGMENT.length;r++)if(e=t.MASK_SEGMENT[r],this.pn<e){this.mask=e;break}this.mask=e},t.prototype.getNewPn=function(){return this.pn+this.salt},t.prototype.getPrefix=function(){return String.fromCharCode(this.salt*t.ZH_LENGTH/(this.mask+1)+t.ZERO_BASE)},t.ZERO_BASE=19968,t.MASK_SEGMENT=[7,15,31,63,127,255],t.ZH_LENGTH=1024,t}()},5589:(t,e,r)=>{"use strict";var n=r(1529),o=r(6004),i=r(3140),s=function(){function t(){this.cryptorMap=new Map,this.register(new o.default),this.latest=this.register(new i.default)}return t.prototype.register=function(t){return this.cryptorMap.set(t.version(),t),t},t.prototype.version=function(){return this.latest.version()},t.prototype.encrypt=function(t){var e=n.default.getCipherVersion(),r=e&&this.cryptorMap.get(e)||this.latest;return this.prefix(r)+r.encript(t,n.default.getPassword())},t.prototype.decrypt=function(t){var e=this.getCryptor(t);return null===e?t:e.decrypt(t.substring(3),n.default.getPassword())},t.prototype.prefix=function(t){var e=t.version();return e<10?"z0"+e:"z"+e},t.prototype.support=function(t){return null!==this.getCryptor(t)},t.prototype.getCryptor=function(t){if((t=this.preprocess(t)).length<3||!t.startsWith("z"))return null;var e=t.substring(1,3);try{var r=Number.parseInt(e);return this.cryptorMap.get(r)||null}catch(t){return null}},t.prototype.preprocess=function(t){if(void 0===t)return"";for(;t.length&&t.startsWith("\t")||t.startsWith("\n")||t.startsWith("\r")||t.startsWith(" ");)t=t.substring(1);return t},t}();e.default=new s},308:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>f});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{attrs:{"label-position":"left","label-width":"105px"}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",[r("template",{slot:"label"},[r("span",[t._v(t._s(t.$t("setting.auto.encryptLabel")))]),t._v(" "),r("el-tooltip",{attrs:{placement:"top"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[t._v(t._s(t.$t("setting.auto.encryptTip")))])]),t._v(" "),r("i",{staticClass:"el-icon-question"})])],1),t._v(" "),r("el-switch",{attrs:{size:"mini"},model:{value:t.autoEncrypt,callback:function(e){t.autoEncrypt=e},expression:"autoEncrypt"}})],2)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",[r("template",{slot:"label"},[r("span",[t._v(t._s(t.$t("setting.auto.decryptLabel")))]),t._v(" "),r("el-tooltip",{attrs:{placement:"top"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[t._v(t._s(t.$t("setting.auto.decryptTip")))])]),t._v(" "),r("i",{staticClass:"el-icon-question"})])],1),t._v(" "),r("el-switch",{attrs:{size:"mini"},model:{value:t.autoDecrypt,callback:function(e){t.autoDecrypt=e},expression:"autoDecrypt"}})],2)],1)],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("setting.password.title")}},[r("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[r("el-tooltip",{attrs:{slot:"append",content:t.$t("button.copy")},slot:"append"},[r("el-button",{staticClass:"copy-append",attrs:{icon:"el-icon-copy-document"},on:{click:function(e){return t.copyPsw()}}})],1)],1)],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("setting.cipherType.label")}},[r("el-select",{model:{value:t.cipherVersion,callback:function(e){t.cipherVersion=e},expression:"cipherVersion"}},t._l(t.maxVersion,(function(e){return r("el-option",{key:e,attrs:{value:e,label:e+". "+t.$t("setting.cipherType.remark."+e)}})})),1)],1)],1)],1)};n._withStripped=!0;var o=r(5874),i=r(1529),s=r(5589);const a={name:"ZeroSetting",data:()=>({password:"",autoEncrypt:!1,autoDecrypt:!1,maxVersion:s.default.version(),cipherVersion:1}),created(){i.default.getPassword((t=>this.password=t)),i.default.getAutoFill((t=>this.autoEncrypt=!!t)),i.default.getAutoDecrypt((t=>this.autoDecrypt=!!t)),i.default.getCipherVersion((t=>this.cipherVersion=t))},watch:{password(t,e){i.default.changePassword(t)},autoEncrypt(t){i.default.changeAutoFill(t)},autoDecrypt(t){i.default.changeAutoDecrypt(t)},cipherVersion(t){i.default.changeCipherVersion(t)}},methods:{copyPsw(){(0,o.Z)(this.password,this)}}};var c=r(3379),p=r.n(c),u=r(350);p()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var l=(0,r(1900).Z)(a,n,[],!1,null,"36ef6d9f",null);l.options.__file="src/view/popup/setting/index.vue";const f=l.exports},5874:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});const n=r(6485);function o(t,e){n(t).then((t=>{e.$notify({message:e.$t("button.copied"),duration:1e3,type:"success"})})).catch((t=>{console.log(t)}))}}}]);