(self.webpackChunkmake_zero=self.webpackChunkmake_zero||[]).push([[439],{3791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.storage=chrome.storage.sync}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getAsync=function(t,e){this.storage.get((function(n){var r=n[t];e&&e(r)}))},t.prototype.setAsync=function(t,e,n){var r={};r[t]=e,this.storage.set(r,(function(){return n&&n(t,e)}))},t}();e.default=n.getInstance()},887:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3320),i=function(){function t(){}return t.prototype.keywordChanged=function(t){return t!==this.lastHandledKeyword&&(this.lastHandledKeyword=void 0,!0)},t.prototype.tail=function(t){var e=decodeURI(t);e=this.transferParamToWords(e);var n=this.inputSelector();this.keywordChanged(e)&&(this.lastHandledKeyword=e,r(n).val(e),document.title=e)},t}();e.default=i},8118:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlChanged=void 0;var r=n(7766),i=n(4777),o=n(3279),s=function(){function t(){this.msgTag="ENGINE_FILTER"}return t.prototype.handleTabUpdate=function(t,e,n){var s=this;i.default.on(this.key,(function(i){if(i&&s.isEngine(e))if("loading"===n){var u=r.default.allWords();if(!u||!u.length)return;var a=s.changeUrl(e,u),c=a.newUrl,d=a.needRedirect,f=a.originParam;d&&chrome.tabs.query({currentWindow:!0,active:!0},(function(e){!o.default.storeWords(t,f)&&chrome.tabs.update(t,{url:c},(function(){}))}))}else if("complete"===n){var l=o.default.get(t);l&&(o.default.delete(t),chrome.tabs.sendMessage(t,{tag:s.msgTag,data:l},(function(t){return console.log(t)})))}}))},t.prototype.isEngine=function(t){return t.indexOf("https://"+this.prefix)>-1||t.indexOf("http://"+this.prefix)>-1},t.prototype.handleMessage=function(t,e,n){var r=decodeURI(t);this.tailer.tail(r),n("the engine["+this.key+"] seen")},t.prototype.switch=function(t){i.default.set(this.key,t)},t}();e.default=s;e.UrlChanged=function(){}},7766:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3791),i=function(){function t(){var e=this;this.words=[],r.default.getAsync(t.KEY,(function(t){return e.words=t||["csdn"]}))}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.allWords=function(){return this.words},t.prototype.remove=function(t){var e=this.words.indexOf(t);-1!==e&&this.words.splice(e,1)},t.prototype.add=function(e){-1===this.words.indexOf(e)&&this.words.push(e),r.default.setAsync(t.KEY,this.words)},t.KEY="__bad_words__",t}();e.default=i.getInstance()},9203:(t,e,n)=>{"use strict";var r=n(9451),i=n(2896);e.default=[r.default,i.default]},9451:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4603),i=n(8118),o=n(887),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="baidu",e.name="百度",e.prefix="www.baidu.com/s?",e.tailer=new u,e.keywordParam="wd",e}return r.__extends(e,t),e.prototype.changeUrl=function(t,e){var n=this,r=!1,i="";return{newUrl:t.split("&").map((function(t){var o=t.split("="),s=o[0],u=o[1];if(s===n.keywordParam){r=!1,i=u;var a=u.split("%20")||[];e.map((function(t){return"-"+t})).map((function(t){return encodeURI(t)})).filter((function(t){return-1===a.indexOf(t)})).forEach((function(t){r=!0,a.push(t)})),u=a.join("%20")}return s+"="+u})).reduce((function(t,e){return t+"&"+e})),needRedirect:r,originParam:i}},e.getInstance=function(){return e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE},e}(i.default),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.inputSelector=function(){return"#kw"},e.prototype.transferParamToWords=function(t){return t},e}(o.default);e.default=s.getInstance()},2896:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4603),i=n(8118),o=n(887),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="google",e.name="Google",e.prefix="www.google.com/search?",e.tailer=new u,e.keywordParam="q",e}return r.__extends(e,t),e.prototype.changeUrl=function(t,e){var n=this,r=!1,i="";return{newUrl:t.split("&").map((function(t){var o=t.split("="),s=o[0],u=o[1];if(s===n.keywordParam){r=!1,i=u;var a=u.split("+")||[];e.map((function(t){return"-"+t})).map((function(t){return encodeURI(t)})).filter((function(t){return-1===a.indexOf(t)})).forEach((function(t){r=!0,a.push(t)})),u=a.join("+")}return s+"="+u})).reduce((function(t,e){return t+"&"+e})),needRedirect:r,originParam:i}},e.getInstance=function(){return e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE},e}(i.default),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.inputSelector=function(){return".gLFyf.gsfi"},e.prototype.transferParamToWords=function(t){return t.replace("+"," ")},e}(o.default);e.default=s.getInstance()},4777:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3791),i=function(){function t(){var e=this;this.switchDict={},r.default.getAsync(t.KEY,(function(t){return e.switchDict=t||{}}))}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.init=function(e){var n=this;r.default.getAsync(t.KEY,(function(t){n.switchDict=t||{},e&&e(n.switchDict)}))},t.prototype.set=function(t,e){this.switchDict[t]=e,this.save()},t.prototype.on=function(e,n){var i=this;r.default.getAsync(t.KEY,(function(t){i.switchDict=t||{},n(!!i.switchDict[e])}))},t.prototype.save=function(){r.default.setAsync(t.KEY,this.switchDict)},t.KEY="__engine_switch__",t}();e.default=i.getInstance()},3279:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.dict={},this.dict={}}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.storeWords=function(t,e){return this.dict[t]===e||(this.dict[t]=e,!1)},t.prototype.get=function(t){return this.dict[t]},t.prototype.delete=function(t){delete this.dict[t]},t}();e.default=n.getInstance()},6439:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("搜索引擎筛选")]),t._v(" "),n("div",{attrs:{id:"switch_container"}},t._l(t.engines,(function(e){return n("p",{key:e.key},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.on,expression:"engine.on"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.on)?t._i(e.on,null)>-1:e.on},on:{click:function(n){return n.target,t.reverse(e)},change:function(n){var r=e.on,i=n.target,o=!!i.checked;if(Array.isArray(r)){var s=t._i(r,null);i.checked?s<0&&t.$set(e,"on",r.concat([null])):s>-1&&t.$set(e,"on",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(e,"on",o)}}}),t._v("\n      "+t._s(e.name)+"\n    ")])})),0)])};r._withStripped=!0;var i=n(9203),o=n(4777);const s={name:"Engine",data(){return{engines:i.default.map((t=>{const e={};return this.$set(e,"key",t.key),this.$set(e,"name",t.name),this.$set(e,"on",!1),e}))}},methods:{reverse({key:t,on:e}){o.default.set(t,!e)}},created(){o.default.init((t=>{this.engines.forEach((e=>{this.$set(e,"on",t[e.key])}))}))}};var u=(0,n(8572).Z)(s,r,[],!1,null,null,null);u.options.__file="src/view/popup/engine/index.vue";const a=u.exports}}]);