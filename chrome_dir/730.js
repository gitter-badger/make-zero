(self.webpackChunkmake_zero=self.webpackChunkmake_zero||[]).push([[730],{7480:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(3645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,"\n.input-button[data-v-3b2a3280],\n.el-tag[data-v-3b2a3280] {\n  margin: 2px !important;\n}\n",""]);const s=i},5003:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.storage=chrome.storage.sync}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getAsync=function(t,e){this.storage.get((function(n){var r=n[t];e&&e(r)}))},t.prototype.setAsync=function(t,e,n){var r={};r[t]=e,this.storage.set(r,(function(){return n&&n(t,e)}))},t}();e.default=n.getInstance()},266:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9755),i=function(){function t(){}return t.prototype.keywordChanged=function(t){return t!==this.lastHandledKeyword&&(this.lastHandledKeyword=void 0,!0)},t.prototype.tail=function(t){var e=decodeURI(t);e=this.transferParamToWords(e);var n=this.inputSelector();this.keywordChanged(e)&&(this.lastHandledKeyword=e,r(n).val(e),document.title=e)},t}();e.default=i},2834:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlChanged=void 0;var r=n(6487),i=n(3618),s=n(6208),o=function(){function t(){this.msgTag="ENGINE_FILTER"}return t.prototype.handleTabUpdate=function(t,e,n){var o=this;i.default.on(this.key,(function(i){if(i&&o.isEngine(e))if("loading"===n)r.default.allWords((function(n){if(n&&n.length){var r=o.changeUrl(e,n),i=r.newUrl,u=r.needRedirect,a=r.originParam;u&&chrome.tabs.query({currentWindow:!0,active:!0},(function(e){!s.default.storeWords(t,a)&&chrome.tabs.update(t,{url:i},(function(){}))}))}}));else if("complete"===n){var u=s.default.get(t);u&&(s.default.delete(t),chrome.tabs.sendMessage(t,{tag:o.msgTag,data:u},(function(t){return console.log(t)})))}}))},t.prototype.isEngine=function(t){return t.indexOf("https://"+this.prefix)>-1||t.indexOf("http://"+this.prefix)>-1},t.prototype.handleMessage=function(t,e,n){var r=decodeURI(t);this.tailer.tail(r),n("the engine["+this.key+"] seen")},t.prototype.switch=function(t){i.default.set(this.key,t)},t}();e.default=o;e.UrlChanged=function(){}},6487:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5003),i=function(){function t(){var t=this;this.words=[],this.getWords((function(e){return t.words=e}))}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.allWords=function(t){this.getWords(t)},t.prototype.remove=function(t){var e=this.words.indexOf(t);-1!==e&&this.words.splice(e,1),this.save()},t.prototype.add=function(t){-1===this.words.indexOf(t)&&this.words.push(t),this.save()},t.prototype.save=function(){r.default.setAsync(t.KEY,this.words)},t.prototype.getWords=function(e){r.default.getAsync(t.KEY,(function(n){return e&&e(n||t.DEMO)}))},t.KEY="__bad_words__",t.DEMO=["csdn"],t}();e.default=i.getInstance()},3113:(t,e,n)=>{"use strict";var r=n(22),i=n(1047);e.default=[r.default,i.default]},22:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(655),i=n(2834),s=n(266),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="baidu",e.name="百度",e.prefix="www.baidu.com/s?",e.tailer=new u,e.keywordParam="wd",e}return r.__extends(e,t),e.prototype.changeUrl=function(t,e){var n=this,r=!1,i="";return{newUrl:t.split("&").map((function(t){var s=t.split("="),o=s[0],u=s[1];if(o===n.keywordParam){r=!1,i=u;var a=u.split("%20")||[];e.map((function(t){return"-"+t})).map((function(t){return encodeURI(t)})).filter((function(t){return-1===a.indexOf(t)})).forEach((function(t){r=!0,a.push(t)})),u=a.join("%20")}return o+"="+u})).reduce((function(t,e){return t+"&"+e})),needRedirect:r,originParam:i}},e.getInstance=function(){return e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE},e}(i.default),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.inputSelector=function(){return"#kw"},e.prototype.transferParamToWords=function(t){return t},e}(s.default);e.default=o.getInstance()},1047:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(655),i=n(2834),s=n(266),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="google",e.name="Google",e.prefix="www.google.com/search?",e.tailer=new u,e.keywordParam="q",e}return r.__extends(e,t),e.prototype.changeUrl=function(t,e){var n=this,r=!1,i="";return{newUrl:t.split("&").map((function(t){var s=t.split("="),o=s[0],u=s[1];if(o===n.keywordParam){r=!1,i=u;var a=u.split("+")||[];e.map((function(t){return"-"+t})).map((function(t){return encodeURI(t)})).filter((function(t){return-1===a.indexOf(t)})).forEach((function(t){r=!0,a.push(t)})),u=a.join("+")}return o+"="+u})).reduce((function(t,e){return t+"&"+e})),needRedirect:r,originParam:i}},e.getInstance=function(){return e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE},e}(i.default),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.inputSelector=function(){return".gLFyf.gsfi"},e.prototype.transferParamToWords=function(t){return t.replace("+"," ")},e}(s.default);e.default=o.getInstance()},3618:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5003),i=function(){function t(){var e=this;this.switchDict={},r.default.getAsync(t.KEY,(function(t){return e.switchDict=t||{}}))}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.init=function(e){var n=this;r.default.getAsync(t.KEY,(function(t){n.switchDict=t||{},e&&e(n.switchDict)}))},t.prototype.set=function(t,e){this.switchDict[t]=e,this.save()},t.prototype.on=function(e,n){var i=this;r.default.getAsync(t.KEY,(function(t){i.switchDict=t||{},n(!!i.switchDict[e])}))},t.prototype.save=function(){r.default.setAsync(t.KEY,this.switchDict)},t.KEY="__engine_switch__",t}();e.default=i.getInstance()},6208:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.dict={},this.dict={}}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.storeWords=function(t,e){return this.dict[t]===e||(this.dict[t]=e,!1)},t.prototype.get=function(t){return this.dict[t]},t.prototype.delete=function(t){delete this.dict[t]},t}();e.default=n.getInstance()},7730:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-alert",{attrs:{title:t.$t("engine.enabled.label"),type:"success"}}),t._v(" "),n("el-form",[n("el-row",{attrs:{gutter:10}},t._l(t.engines,(function(e){return n("el-col",{key:e.key,attrs:{span:12}},[n("el-form-item",{attrs:{label:t.$t("engine."+e.key+".name")}},[n("el-switch",{attrs:{type:"checkbox"},on:{change:function(n){return t.change(e.key,n)}},model:{value:e.on,callback:function(n){t.$set(e,"on",n)},expression:"engine.on"}})],1)],1)})),1)],1),t._v(" "),n("Words")],1)};r._withStripped=!0;var i=n(3113),s=n(3618),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v(t._s(t.$t("engine.words.title")))]),t._v(" "),t._l(t.words,(function(e){return n("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return t.handleClose(e)}}},[t._v("\n    "+t._s(e)+"\n  ")])})),t._v(" "),t.inputVisible?n("el-input",{ref:"saveWordInput",staticClass:"input-button",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"input-button",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ "+t._s(t.$t("engine.words.newOne")))])],2)};o._withStripped=!0;var u=n(6487);const a={name:"BadWords",data:()=>({words:[],inputVisible:!1,inputValue:""}),created(){u.default.allWords((t=>this.words=t))},methods:{handleClose(t){this.words.splice(this.words.indexOf(t),1),u.default.remove(t)},showInput(){this.inputVisible=!0,this.$nextTick((t=>{this.$refs.saveWordInput.$refs.input.focus()}))},handleInputConfirm(){let t=this.inputValue;if(t){if(t=t.trim(),t.indexOf(" ")>-1)return void this.$message(this.$t("engine.words.noBlankMsg"));this.words.push(t),u.default.add(t)}this.inputVisible=!1,this.inputValue=""}}};var c=n(3379),l=n.n(c),d=n(7480);l()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var f=n(1900),p=(0,f.Z)(a,o,[],!1,null,"3b2a3280",null);p.options.__file="src/view/popup/engine/words.vue";const h={name:"Engine",components:{Words:p.exports},data(){return{engines:i.default.map((t=>{const e={};return this.$set(e,"key",t.key),this.$set(e,"name",t.name),this.$set(e,"on",!1),e}))}},methods:{change(t,e){s.default.set(t,e)}},created(){s.default.init((t=>{this.engines.forEach((e=>{this.$set(e,"on",t[e.key])}))}))}};var g=(0,f.Z)(h,r,[],!1,null,null,null);g.options.__file="src/view/popup/engine/index.vue";const v=g.exports}}]);