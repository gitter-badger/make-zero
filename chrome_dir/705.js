(self.webpackChunkmake_zero=self.webpackChunkmake_zero||[]).push([[705],{5070:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(t){return t[1]}));o.push([t.id,"\n.copy-append[data-v-59ea6f04] {\n  padding: 12px 12px !important;\n}\n",""]);const i=o},5003:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.storage=chrome.storage.sync}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getAsync=function(t,e){this.storage.get((function(n){var r=n[t];e&&e(r)}))},t.prototype.setAsync=function(t,e,n){var r={};r[t]=e,this.storage.set(r,(function(){return n&&n(t,e)}))},t}();e.default=n.getInstance()},6419:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5003),o=function(){function t(){this.config={password:"123456",autoFill:!1,autoDecrypt:!1,cipherVersion:1},this.init()}return t.prototype.initialize=function(){this.changePassword("123456")},t.prototype.changePassword=function(e){this.config.password=e,r.default.setAsync(t.KEY,this.config)},t.prototype.getPassword=function(t){return this.init((function(e){return t&&t(e.password)})),this.config.password},t.prototype.changeAutoFill=function(e){this.config.autoFill=e,r.default.setAsync(t.KEY,this.config)},t.prototype.getAutoFill=function(t){return this.init((function(e){return t&&t(!!e.autoFill)})),this.config.autoFill},t.prototype.changeAutoDecrypt=function(e){this.config.autoDecrypt=e,r.default.setAsync(t.KEY,this.config)},t.prototype.getAutoDecrypt=function(t){return this.init((function(e){return t&&t(!!e.autoDecrypt)})),this.config.autoDecrypt},t.prototype.getCipherVersion=function(t){return this.init((function(e){return t&&t(e.cipherVersion)})),this.config.cipherVersion},t.prototype.changeCipherVersion=function(e){this.config.cipherVersion=e,r.default.setAsync(t.KEY,this.config)},t.prototype.init=function(e){var n=this;r.default.getAsync(t.KEY,(function(t){t&&(n.config=t),e&&e(n.config)}))},t.getInstance=function(){return null==t.INSTANCE&&(t.INSTANCE=new t),t.INSTANCE},t.KEY="__CryptorConfig__",t}();e.default=o.getInstance()},7082:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.version=function(){return 1},t.prototype.encript=function(t,e){return this.ring(t,e)},t.prototype.decrypt=function(t,e){return this.ring(t,e)},t.prototype.ring=function(t,e){var n=this.getPasswordNumber(e);return this.toUnicodeArray(t).map((function(t){return t^n})).map((function(t){return String.fromCharCode(t)})).join("")},t.prototype.getPasswordNumber=function(t){var e=0;return this.toUnicodeArray(t).forEach((function(t){return e^=t})),e},t.prototype.toUnicodeArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e},t}();e.default=n},4393:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(655),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.version=function(){return 2},e.prototype.encript=function(e,n){var r=t.prototype.toUnicodeArray.call(this,e),o=t.prototype.getPasswordNumber.call(this,n),s=new i;s.calcSalt(o),o=s.getNewPn();var a=r.map((function(t){return t^o})).map((function(t){return String.fromCharCode(t)})).join("");return s.getPrefix()+a},e.prototype.decrypt=function(e,n){var r=t.prototype.getPasswordNumber.call(this,n),o=new i;return o.parseSalt(r,e),r=o.getNewPn(),t.prototype.toUnicodeArray.call(this,e.substring(1)).map((function(t){return t^r})).map((function(t){return String.fromCharCode(t)})).join("")},e}(n(7082).default);e.default=o;var i=function(){function t(){}return t.prototype.calcSalt=function(t){for(this.pn=t,this.calcMask();!this.isValid();)this.circle(t)},t.prototype.parseSalt=function(e,n){this.pn=e,this.calcMask(),this.salt=(n.charCodeAt(0)-t.ZERO_BASE)*(this.mask+1)/t.ZH_LENGTH},t.prototype.isValid=function(){return!!this.getNewPn()},t.prototype.circle=function(t){this.salt=(new Date).getTime()&this.mask},t.prototype.calcMask=function(){for(var e,n=0;n<t.MASK_SEGMENT.length;n++)if(e=t.MASK_SEGMENT[n],this.pn<e){this.mask=e;break}this.mask=e},t.prototype.getNewPn=function(){return this.pn+this.salt},t.prototype.getPrefix=function(){return String.fromCharCode(this.salt*t.ZH_LENGTH/(this.mask+1)+t.ZERO_BASE)},t.ZERO_BASE=19968,t.MASK_SEGMENT=[7,15,31,63,127,255],t.ZH_LENGTH=1024,t}()},5268:(t,e,n)=>{"use strict";var r=n(6419),o=n(7082),i=n(4393),s=function(){function t(){this.cryptorMap=new Map,this.register(new o.default),this.latest=this.register(new i.default)}return t.prototype.register=function(t){return this.cryptorMap.set(t.version(),t),t},t.prototype.version=function(){return this.latest.version()},t.prototype.encrypt=function(t){var e=r.default.getCipherVersion(),n=e&&this.cryptorMap.get(e)||this.latest;return this.prefix(n)+n.encript(t,r.default.getPassword())},t.prototype.decrypt=function(t){var e=this.getCryptor(t);return null===e?t:e.decrypt(t.substring(3),r.default.getPassword())},t.prototype.prefix=function(t){var e=t.version();return e<10?"z0"+e:"z"+e},t.prototype.support=function(t){return null!==this.getCryptor(t)},t.prototype.getCryptor=function(t){if((t=this.preprocess(t)).length<3||!t.startsWith("z"))return null;var e=t.substring(1,3);try{var n=Number.parseInt(e);return this.cryptorMap.get(n)}catch(t){return null}},t.prototype.preprocess=function(t){if(void 0===t)return"";for(;t.length&&t.startsWith("\t")||t.startsWith("\n")||t.startsWith("\r")||t.startsWith(" ");)t=t.substring(1);return t},t}();e.default=new s},7705:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{attrs:{"label-position":"left","label-width":"90px"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:12}},[n("el-form-item",[n("template",{slot:"label"},[n("span",[t._v(t._s(t.$t("sns.auto.encryptLabel")))]),t._v(" "),n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[t._v(t._s(t.$t("sns.auto.encryptTip")))])]),t._v(" "),n("i",{staticClass:"el-icon-question"})])],1),t._v(" "),n("el-switch",{attrs:{size:"mini"},model:{value:t.autoEncrypt,callback:function(e){t.autoEncrypt=e},expression:"autoEncrypt"}})],2)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("template",{slot:"label"},[n("span",[t._v(t._s(t.$t("sns.auto.decryptLabel")))]),t._v(" "),n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[t._v(t._s(t.$t("sns.auto.decryptTip")))])]),t._v(" "),n("i",{staticClass:"el-icon-question"})])],1),t._v(" "),n("el-switch",{attrs:{size:"mini"},model:{value:t.autoDecrypt,callback:function(e){t.autoDecrypt=e},expression:"autoDecrypt"}})],2)],1)],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("sns.password.title")}},[n("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[n("el-tooltip",{attrs:{slot:"append",content:t.$t("button.copy")},slot:"append"},[n("el-button",{staticClass:"copy-append",attrs:{icon:"el-icon-copy-document"},on:{click:function(e){return t.copyPsw()}}})],1)],1)],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("sns.cipherType.label")}},[n("el-select",{model:{value:t.cipherVersion,callback:function(e){t.cipherVersion=e},expression:"cipherVersion"}},t._l(t.maxVersion,(function(e){return n("el-option",{key:e,attrs:{value:e,label:e+". "+t.$t("sns.cipherType.remark."+e)}})})),1)],1)],1)],1)};r._withStripped=!0;var o=n(5874),i=n(6419),s=n(5268);const a={name:"ZeroSetting",data:()=>({password:"",autoEncrypt:!1,autoDecrypt:!1,maxVersion:s.default.version(),cipherVersion:1}),created(){i.default.getPassword((t=>this.password=t)),i.default.getAutoFill((t=>this.autoEncrypt=!!t)),i.default.getAutoDecrypt((t=>this.autoDecrypt=!!t)),i.default.getCipherVersion((t=>this.cipherVersion=t))},watch:{password(t,e){i.default.changePassword(t)},autoEncrypt(t){i.default.changeAutoFill(t)},autoDecrypt(t){i.default.changeAutoDecrypt(t)},cipherVersion(t){i.default.changeCipherVersion(t)}},methods:{copyPsw(){(0,o.Z)(this.password,this)}}};var c=n(3379),p=n.n(c),u=n(5070);p()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var l=(0,n(1900).Z)(a,r,[],!1,null,"59ea6f04",null);l.options.__file="src/view/popup/sns-zero/index.vue";const f=l.exports},5874:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const r=n(6485);function o(t,e){r(t).then((t=>{e.$notify({message:e.$t("button.copied"),duration:1e3,type:"success"})})).catch((t=>{console.log(t)}))}}}]);